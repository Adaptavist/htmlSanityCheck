<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTML Sanity Checker Architecture Documentation</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css">
<style>
/* Foundation stylesheet for CodeRay (to match GitHub theme) | MIT License | http://foundation.zurb.com */
table.CodeRay { border-collapse: collapse; padding: 2px; margin-bottom: 0; border: 0; background: transparent; }
table.CodeRay td { padding: 0 .5em; vertical-align: top; }
table.CodeRay td.line-numbers { text-align: right; color: #999; border-right: 1px solid #e5e5e5; padding-left: 0; }
span.line-numbers { border-right: 1px solid #E5E5E5; color: #999; display: inline-block; margin-right: 0.5em; padding-right: 0.5em; }
.CodeRay td.line-numbers strong, .CodeRay span.line-numbers strong { font-weight: normal; }
.CodeRay .debug { color: white !important; background: blue !important; }
.CodeRay .annotation { color: #007; }
.CodeRay .attribute-name { color: #f08; }
.CodeRay .attribute-value { color: #700; }
.CodeRay .binary { color: #509; }
.CodeRay .comment  { color: #999; font-style: italic; }
.CodeRay .char { color: #04D; }
.CodeRay .char .content { color: #04D; }
.CodeRay .char .delimiter { color: #039; }
.CodeRay .class { color: #458; }
.CodeRay .complex { color: #A08; }
.CodeRay .constant { color: teal; }
.CodeRay .color { color: #0A0; }
.CodeRay .class-variable { color: #369; }
.CodeRay .decorator { color: #B0B; }
.CodeRay .definition { color: #099; }
.CodeRay .directive { color: #088; }
.CodeRay .delimiter { color: black; }
.CodeRay .doc { color: #970; }
.CodeRay .doctype { color: #34b; }
.CodeRay .doc-string { color: #D42; }
.CodeRay .escape  { color: #666; }
.CodeRay .entity { color: #800; }
.CodeRay .error { color: #808; }
.CodeRay .exception { color: #C00; }
.CodeRay .filename { color: #099; }
.CodeRay .function { color: #900; }
.CodeRay .global-variable { color: teal; }
.CodeRay .hex { color: #058; }
.CodeRay .integer  { color: #099; }
.CodeRay .include { color: #B44; }
.CodeRay .inline { color: black; }
.CodeRay .inline .inline { background: #ccc; }
.CodeRay .inline .inline .inline { background: #bbb; }
.CodeRay .inline .inline-delimiter { color: #D14; }
.CodeRay .inline-delimiter { color: #D14; }
.CodeRay .important { color: #f00; }
.CodeRay .interpreted { color: #B2B; }
.CodeRay .instance-variable { color: teal; }
.CodeRay .label { color: #970; }
.CodeRay .local-variable { color: #963; }
.CodeRay .octal { color: #40E; }
.CodeRay .predefined { color: #369; }
.CodeRay .preprocessor { color: #579; }
.CodeRay .pseudo-class { color: #00C; }
.CodeRay .predefined-type { color: #074; }
.CodeRay .reserved, .keyword  { color: #000; }
.CodeRay .key { color: #808; }
.CodeRay .key .delimiter { color: #606; }
.CodeRay .key .char { color: #80f; }
.CodeRay .value { color: #088; }
.CodeRay .regexp { background-color: #fff0ff; }
.CodeRay .regexp .content { color: #808; }
.CodeRay .regexp .delimiter { color: #404; }
.CodeRay .regexp .modifier { color: #C2C; }
.CodeRay .regexp .function  { color: #404; font-weight: bold; }
.CodeRay .string { color: #D20; }
.CodeRay .string .string { }
.CodeRay .string .string .string { background-color: #ffd0d0; }
.CodeRay .string .content { color: #D14; }
.CodeRay .string .char { color: #D14; }
.CodeRay .string .delimiter { color: #D14; }
.CodeRay .shell { color: #D14; }
.CodeRay .shell .content { }
.CodeRay .shell .delimiter { color: #D14; }
.CodeRay .symbol { color: #990073; }
.CodeRay .symbol .content { color: #A60; }
.CodeRay .symbol .delimiter { color: #630; }
.CodeRay .tag, .CodeRay .attribute-name { color: #070; }
.CodeRay .tag-special { color: #D70; }
.CodeRay .type { color: #339; }
.CodeRay .variable  { color: #036; }
.CodeRay .insert { background: #afa; }
.CodeRay .delete { background: #faa; }
.CodeRay .change { color: #aaf; background: #007; }
.CodeRay .head { color: #f8f; background: #505; }
.CodeRay .insert .insert { color: #080; }
.CodeRay .delete .delete { color: #800; }
.CodeRay .change .change { color: #66f; }
.CodeRay .head .head { color: #f4f; }

</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>HTML Sanity Checker Architecture Documentation</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_colophone">Colophone</a></li>
<li><a href="#_introduction_and_goals">1. Introduction and Goals</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#requirements">1.1. Requirements Overview</a></li>
<li><a href="#quality-goals">1.2. Quality Goals</a></li>
<li><a href="#_stakeholder">1.3. Stakeholder</a></li>
</ul>
</li>
<li><a href="#_constraints">2. Constraints</a></li>
<li><a href="#_context">3. Context</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_business_context">3.1. Business Context</a></li>
<li><a href="#_deployment_context">3.2. Deployment Context</a></li>
</ul>
</li>
<li><a href="#_solution_strategy">4. Solution Strategy</a></li>
<li><a href="#_building_block_view">5. Building Block View</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_whitebox_htmlsanitychecker">5.1. Whitebox HtmlSanityChecker</a></li>
<li><a href="#_building_blocks_level_2">5.2. Building Blocks - Level 2</a></li>
</ul>
</li>
<li><a href="#_runtime_view">6. Runtime View</a></li>
<li><a href="#deployment-view">7. Deployment View</a></li>
<li><a href="#_technical_and_crosscutting_concepts">8. Technical and Crosscutting Concepts</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#gradle-plugin-concept">8.1. Gradle Plugin Concept and Development</a></li>
<li><a href="#template-method">8.2. Flexible Checking Algorithms</a></li>
<li><a href="#html-encapsulation">8.3. Encapsulate HTML Parsing</a></li>
<li><a href="#reporting-concept">8.4. Flexible Reporting</a></li>
</ul>
</li>
<li><a href="#_design_decisions">9. Design Decisions</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_checking_of_external_links_postponed">9.1. Checking of external links postponed</a></li>
<li><a href="#_html_parsing_with_jsoup">9.2. HTML Parsing with jsoup</a></li>
<li><a href="#_string_similarity_checking_with_a_href_http_wikipedia_org_wiki_jaro_e2_80_93winkler_distance_jaro_winkler_distance_a">9.3. String Similarity Checking with <a href="http://wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance">Jaro-Winkler-Distance</a></a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:20%;">
<col style="width:80%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/arc42-logo.png" alt="arc42"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#169; This document uses material from the arc42 architecture
template, <a href="http://www.arc42.de">http://www.arc42.de</a>.
</p><p class="tableblock"><span class="small">This material is open source and provided under the Creative Commons Sharealike 4.0 license.
It comes <strong>without any guarantee</strong>. Use on your own risk.
arc42 and its structure by Dr. Peter Hruschka and Dr. Gernot Starke.
Asciidoc version initiated by Markus Schärtel and Jürgen Krey,
completed and maintained by Gernot Starke.</span></p></td>
</tr>
</tbody>
</table>

<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Within the following text, the "Html Sanity Checker" shall be abbreviated with <code>HtmlSC</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_colophone"><a class="anchor" href="#_colophone"></a>Colophone</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This documentation has been written in <a href="http://asciidoctor.org">Asciidoctor</a>,
a powerful and flexible
<span class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</span> plain-text based language to generate HTML or docbook formats. Diagrams have been prepared with Sparx' Systems&#169; <a href="http://www.sparxsystems.com/">Enterprise-Architect</a> in <em>handdrawn</em> mode.</p>
</div>
<div class="paragraph">
<p>This document version Version 0.9d of 2014-08-14.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="http://img.shields.io/badge/motivation-high-blue.svg" alt="Motivation is high">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_and_goals"><a class="anchor" href="#_introduction_and_goals"></a>1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="requirements"><a class="anchor" href="#requirements"></a>1.1. Requirements Overview</h3>
<div class="paragraph">
<p><code>HtmlSC</code> shall provide the following functionality:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>HtmlSC</code> shall read a single (configurable) HTML file and perform the following checks:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Check all image tags wether the referenced image files exist</p>
</li>
<li>
<p>Check all internal links from anchor-tags (href="XYZ") wether the link targets "XYZ"
are defined</p>
</li>
<li>
<p>Check all bookmark definitions (&#8230; id="XYZ") wether the id&#8217;s ("XYZ") are unique.</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>HtmlSC</code> can be configured to either</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>output on stdout (the console)</p>
</li>
<li>
<p>creates an html/markdown (or similar) output within a configurable directory</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>HtmlSC</code> can be called from the command line with arguments and options</p>
</li>
<li>
<p><code>HtmlSC</code> can be run as <a href="http://gradle.org/">Gradle</a>-plugin.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="quality-goals"><a class="anchor" href="#quality-goals"></a>1.2. Quality Goals</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 1. Quality-Goals</caption>
<colgroup>
<col style="width:11%;">
<col style="width:22%;">
<col style="width:66%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">Quality-Goal</th>
<th class="tableblock halign-left valign-top">Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correctness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every broken internal link is found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correctness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every missing local image is found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flexibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">multiple checking algorithms, report formats and clients. At least
Gradle, command-line and a graphical client have to be supported.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Safety</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content of the files to be checked is <em>never</em> altered.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check of 100kB html file performed under 10 secs
(excluding gradle startup)</p></td>
</tr>
</tbody>
</table>

</div>
<div class="sect2">
<h3 id="_stakeholder"><a class="anchor" href="#_stakeholder"></a>1.3. Stakeholder</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 2. Stakeholder</caption>
<colgroup>
<col style="width:18%;">
<col style="width:36%;">
<col style="width:45%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Goal, Intention</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="arc42_user"></a> arc42 user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uses the arc42 template for architecture documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wants a small but practical example of <em>how to apply arc42</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aim42 contributor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contributes to aim42 methode-guide</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">check generated html code to ensure links and images are correct during
(gradle-based) build process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arc42 user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uses the arc42 template for architecture documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wants an example of pragmatic arc42 usage</p></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_constraints"><a class="anchor" href="#_constraints"></a>2. Constraints</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>htmlSC</code> shall be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>platform independend and should run on the major operating systems
(Windows &#8482;, Linux and Mac-OS&#8482;)</p>
</li>
<li>
<p>integrated with the Gradle build tool</p>
</li>
<li>
<p>runnable from the command line</p>
</li>
<li>
<p>developed under a liberal open-source license</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_context"><a class="anchor" href="#_context"></a>3. Context</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_business_context"><a class="anchor" href="#_business_context"></a>3.1. Business Context</h3>
<div class="imageblock">
<div class="content">
<img src="images/hsc-context.png" alt="Business Context">
</div>
<div class="title">Figure 1. Business Context</div>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 3. Business Context</caption>
<colgroup>
<col style="width:20%;">
<col style="width:80%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Neighbour</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">documents software with toolchain that generates html. Wants to ensure that
links within this html are valid.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">build system</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">local html files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HtmlSC</code> reads and parses local html files and
performs sanity checks within those.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">local image files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HtmlSC</code> checks if linked images exist as (local) files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">external web resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optionally <code>HtmlSC</code> can be configured to check for the existance
of external web resources. Due the nature of web systems, this check might need a significant
amount of time and might yield invalid results due to network and latency issues.</p></td>
</tr>
</tbody>
</table>

</div>
<div class="sect2">
<h3 id="_deployment_context"><a class="anchor" href="#_deployment_context"></a>3.2. Deployment Context</h3>
<div class="paragraph">
<p>The following diagram shows the participating computers (&laquo;node&raquo;) with their technical connections plus the major &laquo;artifact&raquo; of <code>HtmlSC</code>, the hsc-plugin-binary.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/deployment-context.png" alt="Deployment Context">
</div>
<div class="title">Figure 2. Deployment Context</div>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 4. Deployment Context</caption>
<colgroup>
<col style="width:25%;">
<col style="width:75%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node / Artifact</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&laquo;node&raquo; hsc-development</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">where development of <code>HtmlSC</code> takes place</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&laquo;artifact&raquo; hsc-plugin-binary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compiled and packaged version of <code>HtmlSC</code> including required dependencies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&laquo;node&raquo; artifact repository (<a href="https://bintray.com/bintray/jcenter">Bintray</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">global public <em>cloud</em> repository for binary artifacts, similar to <a href="http://search.maven.org/">mavenCentral</a>.  <code>HtmlSC</code> binaries are uploaded to this server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&laquo;node&raquo; hsc user computer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">where arbitrary documentation takes place with html as output formats.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&laquo;artifact&raquo; build.gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle build script configuring (among other things) the <code>HtmlSC</code> plugin to perform the Html checking.</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Details see <a href="#deployment-view">deployment view</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_solution_strategy"><a class="anchor" href="#_solution_strategy"></a>4. Solution Strategy</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Implement <code>HtmlSC</code> in <a href="http://groovy.codehaus.org/">Groovy</a> and Java with minimal
external dependencies. Wrap this implementation into a <a href="http://gradle.org/">Gradle</a>
plugin, so it can be used within automated builds. Details are given
in the <a href="#gradle-plugin-concept">Gradle plugin concept</a>.</p>
</li>
<li>
<p>Apply the <em>template-method-pattern</em> (see e.g. <a href="http://sourcemaking.com/design_patterns/template_method/">Template-Method Pattern</a>) to enable</p>
<div class="ulist">
<ul>
<li>
<p>multiple checking algorithms. See the <a href="#template-method">concept for checking algorithms</a>.</p>
</li>
<li>
<p>both HTML (file) and text (console) output. See the <a href="#reporting-concept">reporting concept</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_block_view"><a class="anchor" href="#_building_block_view"></a>5. Building Block View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whitebox_htmlsanitychecker"><a class="anchor" href="#_whitebox_htmlsanitychecker"></a>5.1. Whitebox HtmlSanityChecker</h3>
<div class="imageblock">
<div class="content">
<img src="images/hsc-whitebox.png" alt="Whitebox">
</div>
<div class="title">Figure 3. Whitebox (Overall system)</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Rationale</dt>
<dd>
<p><em>reasons for this structure</em></p>
</dd>
<dt class="hdlist1">Contained Blackboxes</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 5. HtmlSanityChecker building blocks</caption>
<colgroup>
<col style="width:25%;">
<col style="width:75%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#checker_blackbox">CheckerCore</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">core: html parsing and sanity checking, file handling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSC Gradle Plugin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integrates the Gradle build tool with <code>HtmlSC</code>,
enabling arbitrary gradle builds to use <code>HtmlSC</code> functionality.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSC Command Line Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> (not documented)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSC Graphical Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(planned, not implemented)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reporter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputs the collected checking results to configurable
destinations, e.g. StdOut or a html file.</p></td>
</tr>
</tbody>
</table>

<div class="dlist">
<dl>
<dt class="hdlist1">Interfaces</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 6. HtmlSanityChecker internal interfaces</caption>
<colgroup>
<col style="width:20%;">
<col style="width:80%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">usage via shell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#arc42_user">arc42 user</a> uses a command
line shell to call the <code>HtmlSC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">build system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> currently restricted to Gradle: The build
system uses <code>HtmlSC</code> as configured in the buildscript.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">local-html and local-images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HtmlSC</code> needs access to several
local files, especially the html page to be checked and to the
corresponding image directories.</p></td>
</tr>
</tbody>
</table>

<div class="sect3">
<h4 id="checker_blackbox"><a class="anchor" href="#checker_blackbox"></a>5.1.1. <em>CheckerCore</em> (Blackbox)</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Intent/Responsibility</dt>
<dd>
<p>Checker contains the core functions
to perform the various sanity checks. It parses the html file
into an DOM-like in-memory representation, which is then
used to perform the actual checks.</p>
</dd>
<dt class="hdlist1">Interfaces</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 7. CheckerCore Interfaces</caption>
<colgroup>
<col style="width:33%;">
<col style="width:66%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface (From-To)</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command Line Interface &#8594; Checker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Exposes the #AllChecksRunner class, as described
in <a href="#allChecksRunner">AllChecksRunner</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle Plugin &#8594; Checker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exposes <code>HtmlSC</code> via a standard Gradle plugin,
as described in the Gradle user guide.</p></td>
</tr>
</tbody>
</table>

<div class="dlist">
<dl>
<dt class="hdlist1">Files</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>org.aim42.htmlsc.AllChecksRunner</code></p>
</li>
<li>
<p><code>org.aim42.htmlsc.HtmlSanityCheckGradlePlugin</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_building_blocks_level_2"><a class="anchor" href="#_building_blocks_level_2"></a>5.2. Building Blocks - Level 2</h3>
<div class="sect3">
<h4 id="__em_checkercore_em_whitebox"><a class="anchor" href="#__em_checkercore_em_whitebox"></a>5.2.1. <em>CheckerCore</em> (Whitebox)</h4>
<div class="imageblock">
<div class="content">
<img src="images/CheckerCore-Whitebox.png" alt="Whitebox">
</div>
<div class="title">Figure 4. CheckerCore (Whitebox)</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Rationale</dt>
<dd>
<p><em>reasons for this structure</em></p>
</dd>
<dt class="hdlist1">Contained Blackboxes</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 8. CheckerCore building blocks</caption>
<colgroup>
<col style="width:20%;">
<col style="width:80%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">abstract class, used in form of the template-pattern. Shall be subclassed
for all checking algorithms.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllChecksRunner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Facade to the different Checker instances. Provides a (parameter-driven)
command-line interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ResultsCollector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collects all checking results.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlParser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Encapsulates html parsing, provides methods to search
within the (parsed) html.</p></td>
</tr>
</tbody>
</table>

</div>
<div class="sect3">
<h4 id="_checker_and_xyzchecker_subclasses"><a class="anchor" href="#_checker_and_xyzchecker_subclasses"></a>5.2.2. Checker and xyzChecker Subclasses</h4>
<div class="paragraph">
<p>The abstract Checker provides a uniform interface (public void check())
to different checking algorithms. It is based upon the <a href="#checking-concept">concept of extensible checking algorithms</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_runtime_view"><a class="anchor" href="#_runtime_view"></a>6. Runtime View</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Note: Not appropriate for this system due to very simple implementation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deployment-view"><a class="anchor" href="#deployment-view"></a>7. Deployment View</h2>
<div class="sectionbody">
<div id="img-deployment" class="imageblock">
<div class="content">
<img src="images/hsc-deployment.png" alt="Deployment">
</div>
<div class="title">Figure 5. Deployment</div>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 9. Deployment</caption>
<colgroup>
<col style="width:20%;">
<col style="width:80%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node / Artifact</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hsc plugin binary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compiled version of <code>HtmlSC</code>, including required dependencies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hsc-development</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">where development of <code>HtmlSC</code> takes place</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact repository (<a href="https://bintray.com/bintray/jcenter">Bintray</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">global public <em>cloud</em> repository for binary artifacts, similar to <a href="http://search.maven.org/">mavenCentral</a>.  <code>HtmlSC</code> binaries are uploaded to this server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hsc user computer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">where arbitrary documentation takes place with html as output formats.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">build.gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gradle build script configuring (among other things) the <code>HtmlSC</code> plugin to check <em>some documentation</em>.</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>The three nodes (<em>computers</em>) shown in <a href="#img-deployment">Deployment</a> are connected via public internet.</p>
</div>
<div class="paragraph">
<p>Sanity checker will:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>be bundled as a single jar.</p>
</li>
<li>
<p>be uploaded to the Bintray repository,</p>
</li>
<li>
<p>referencable within a gradle buildfile.</p>
</li>
<li>
<p>provide a <code>main</code> method with parameters and options, so all checks can be
called from the command line.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_technical_and_crosscutting_concepts"><a class="anchor" href="#_technical_and_crosscutting_concepts"></a>8. Technical and Crosscutting Concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="gradle-plugin-concept"><a class="anchor" href="#gradle-plugin-concept"></a>8.1. Gradle Plugin Concept and Development</h3>
<div class="paragraph">
<p>You should definitely read the original
[Gradle User Guide] on custom plugin development.</p>
</div>
<div class="paragraph">
<p>To enable the <a href="#requirements">required Gradle integration</a>,
we implement a lean wrapper as described in the Gradle user guide.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy">  <span class="type">class</span> <span class="class">HtmlSanityCheckPlugin</span> <span class="directive">implements</span> Plugin&lt;Project&gt; {
      <span class="type">void</span> apply(Project project) {
          project.task(<span class="string"><span class="delimiter">'</span><span class="content">htmlSanityCheck</span><span class="delimiter">'</span></span>,
                  <span class="key">type</span>: HtmlSanityCheckTask,
                  <span class="key">group</span>: <span class="string"><span class="delimiter">'</span><span class="content">Check</span><span class="delimiter">'</span></span>)
      }
  }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_directory_structure_and_required_files"><a class="anchor" href="#_directory_structure_and_required_files"></a>8.1.1. Directory Structure and Required Files</h4>
<div class="listingblock">
<div class="content">
<pre>|-htmlSanityCheck
   |  |-src
   |  |  |-main
   |  |  |  |-org
   |  |  |  |  |-aim42
   |  |  |  |  |  |-htmlsanitycheck
   |  |  |  |  |  |  | ...
   |  |  |  |  |  |  |-HtmlSanityCheckPlugin.groovy <i class="conum" data-value="1"></i><b>(1)</b>
   |  |  |  |  |  |  |-HtmlSanityCheckTask.groovy
   |  |  |  |-resources
   |  |  |  |  |-META-INF                          <i class="conum" data-value="2"></i><b>(2)</b>
   |  |  |  |  |  |-gradle-plugins
   |  |  |  |  |  |  |-htmlSanityCheck.properties  <i class="conum" data-value="3"></i><b>(3)</b>
   |  |  |-test
   |  |  |  |-org
   |  |  |  |  |-aim42
   |  |  |  |  |  |-htmlsanitycheck
   |  |  |  |  |  |  | ...
   |  |  |  |  |  |  |-HtmlSanityCheckPluginTest
   |</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the actual plugin code: HtmlSanityCheckPlugin and
HtmlSanityCheckTask groovy files</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Gradle expects plugin properties in META-INF</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Property file containing the name of the actual implementation class:</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_building_the_plugin"><a class="anchor" href="#_building_the_plugin"></a>8.1.2. Building the Plugin</h4>
<div class="paragraph">
<p>The plugin code itself is built with gradle</p>
</div>
</div>
<div class="sect3">
<h4 id="_uploading_to_public_archives"><a class="anchor" href="#_uploading_to_public_archives"></a>8.1.3. Uploading to Public Archives</h4>

</div>
</div>
<div class="sect2">
<h3 id="template-method"><a class="anchor" href="#template-method"></a>8.2. Flexible Checking Algorithms</h3>
<div class="paragraph">
<p><code>htmlSC</code> uses the {template-method-pattern} to enable flexible checking algorithms:</p>
</div>
<div class="quoteblock">
<blockquote>
The Template Method defines a skeleton of an algorithm in an operation, and defers some steps to subclasses.
</blockquote>
<div class="attribution">
&#8212; http://sourcemaking.com/design_patterns/template_method
</div>
</div>
<div class="paragraph">
<p>We achieve that by defining the skeleton of the checking algorithm in one operation, deferring the specific checking algorithm steps to subclasses.</p>
</div>
<div class="paragraph">
<p>The invariant steps are implemented in the abstract base class, while the variant checking algorithms have to be provided by the subclasses.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy">    <span class="comment">/**
    ** template method for performing a single type of checks
     * on the given @see HtmlPage.
     *
     * Prerequisite: pageToCheck has been successfully parsed,
     * prior to constructing this Checker instance.
    **/</span>
    <span class="directive">public</span> CheckingResultsCollector performCheck() {
        <span class="comment">// assert prerequisite</span>
        <span class="keyword">assert</span> pageToCheck != <span class="predefined-constant">null</span>
        initResults()
        <span class="keyword">return</span> check() <span class="comment">// execute the actual checking algorithm</span>
    }</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/template-method.png" alt="Template Method">
</div>
<div class="title">Figure 6. Template-Method Overview</div>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 10. Template Method</caption>
<colgroup>
<col style="width:20%;">
<col style="width:80%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>abstract</em> base class, containing the template method plus an abstract method <code>check()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#ImageFileExistChecker">[ImageFileExistChecker]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">checks if referenced images exist, relative to <code>baseDirectory</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InternalLinksChecker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">checks if links referenced within the page exist</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DuplicateIdChecker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">checks if any id has multiple definitions</p></td>
</tr>
</tbody>
</table>

<div class="sect3">
<h4 id="_imagefileexistchecker"><a class="anchor" href="#_imagefileexistchecker"></a>8.2.1. ImageFileExistChecker</h4>
<div class="paragraph">
<p>The (little) problem with checking images is their path: Consider the following
HTML fragment (from the file <code>testme.html</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="html language-html"><span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">./images/one-image.jpg</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This image file ("one-image.jpg") has to be located relative to the directory containing the corresponding HTML file, i.e.:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>/Users/gstarke/projects/htmlSanityChecker/test/testme.html</pre>
</div>
</div>
<div class="paragraph">
<p>Therefore the expected local absolute path of the "one-image.jpg" would be:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>/Users/gstarke/projects/htmlSanityChecker/test/images/one-image.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>We check for existing files using the usual Java api, but have to add the
<code>baseDir</code> (directory prefix) to the image-src given in the HTML tag to get the <code>absolutePathToImageFile</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="java language-java">  <span class="predefined-type">File</span> f = <span class="keyword">new</span> <span class="predefined-type">File</span>( absolutePathToImageFile );
  <span class="keyword">if</span>(f.exists() &amp;&amp; !f.isDirectory())</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="html-encapsulation"><a class="anchor" href="#html-encapsulation"></a>8.3. Encapsulate HTML Parsing</h3>
<div class="paragraph">
<p>We encapsulate the third-party HTML parser (<a href="http://jsoup.org">http://jsoup.org</a>) in
simple wrapper classes with interfaces specific to our different
checking algorithms.</p>
</div>
</div>
<div class="sect2">
<h3 id="reporting-concept"><a class="anchor" href="#reporting-concept"></a>8.4. Flexible Reporting</h3>
<div class="paragraph">
<p><code>HtmlSC</code> allows for different output
* formats (HTML and text) and
* destinations (file and console)</p>
</div>
<div class="paragraph">
<p>Graphical clients can use the API of the reporting subsystem to display
reports in arbitrary formats.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title="Warning"></i>
</td>
<td class="content">
This section needs to be written.
:numbered:
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_design_decisions"><a class="anchor" href="#_design_decisions"></a>9. Design Decisions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_checking_of_external_links_postponed"><a class="anchor" href="#_checking_of_external_links_postponed"></a>9.1. Checking of external links postponed</h3>
<div class="paragraph">
<p>In the current Version 0.9d we won&#8217;t check external links.
These checks have been postponed to later versions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_html_parsing_with_jsoup"><a class="anchor" href="#_html_parsing_with_jsoup"></a>9.2. HTML Parsing with jsoup</h3>
<div class="paragraph">
<p>To check HTML we parse it into an internal (DOM-like) representation.
For this task we use <a href="http://jsoup.org">jsoup HTML parser</a>, an open-source parser without
external dependencies.</p>
</div>
<div class="paragraph">
<p>To quote from the jsoup website:</p>
</div>
<div class="quoteblock">
<blockquote>
jsoup is a Java library for working with real-world HTML.
It provides a very convenient API for extracting and manipulating data,
using the best of DOM, CSS, and jquery-like methods.
</blockquote>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Goals of this decision</dt>
<dd>
<p>Check HTML programatically by using an existing API that provides access and finder
methods to the DOM-tree of the file(s) to be checked.</p>
</dd>
<dt class="hdlist1">Decision Criteria</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>few dependencies, so the <code>HtmlSC</code> binary stays as small as possible.</p>
</li>
<li>
<p>accessor and finder methods to find images, links and link-targets within the DOM tree.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Alternatives</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>HTTPUnit: a testing framework for web applications and -sites. Its main focus is web testing and it suffers from a large number of dependencies.</p>
</li>
<li>
<p>jsoup: a plain HTML parser without any dependencies (!) and a rich api to
access all HTML elements in DOM-like syntax.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Find details on how <code>HtmlSC</code> implements HTML parsing in the
<a href="#html-encapsulation">HTML encapsulation concept</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_string_similarity_checking_with_a_href_http_wikipedia_org_wiki_jaro_e2_80_93winkler_distance_jaro_winkler_distance_a"><a class="anchor" href="#_string_similarity_checking_with_a_href_http_wikipedia_org_wiki_jaro_e2_80_93winkler_distance_jaro_winkler_distance_a"></a>9.3. String Similarity Checking with <a href="http://wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance">Jaro-Winkler-Distance</a></h3>
<div class="paragraph">
<p>The small <a href="https://github.com/rrice/java-string-similarity">java-string-similarity</a> library (by Ralph Allen Rice) contains implementations of several similarity-calculation algorithms. As it is <strong>not available</strong> as public binary,
we use the sources instead, primarily:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>net.ricecode.similarity.JaroWinklerStrategyTest
net.ricecode.similarity.JaroWinklerStrategy</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
The actual implementation of the similarity comparison has been postponed
to a later release of <code>HtmlSC</code>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Be warned: Asciidoc is so awesome, you will never want to write documentation with anything else&#8230;
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-08-11 12:03:17 MESZ
</div>
</div>
</body>
</html>