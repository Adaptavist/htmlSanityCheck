
== Technical and Crosscutting Concepts

[[template-method]]
=== Flexible Checking Algorithms 
+htmlSC+ uses the {template-method-pattern} to enable flexible checking algorithms:

[quote, http://sourcemaking.com/design_patterns/template_method]
The Template Method defines a skeleton of an algorithm in an operation, and defers some steps to subclasses.

We achieve that by defining the skeleton of the checking algorithm in one operation, deferring the specific checking algorithm steps to subclasses.

The invariant steps are implemented in the abstract base class, while the variant checking algorithms have to be provided by the subclasses. 

[source, groovy]
    /**
    ** template method for performing a single type of checks
     * on the given @see HtmlPage.
     *
     * Prerequisite: pageToCheck has been successfully parsed,
     * prior to constructing this Checker instance.
    **/
    public CheckingResultsCollector performCheck() {
        // assert prerequisite
        assert pageToCheck != null

        initResults()
        return check() // execute the actual checking algorithm
    }



image::template-method.png["Template Method", title="Template-Method"]

[options="header", cols="1,4"]
.Template Method
|===
| Component | Description
| Checker    | _abstract_ base class, containing the template method plus an abstract method +check()+
|===



[[gradle-plugin]]
=== Gradle Plugin
To enable the <<requirements, required Gradle integration>>, 
we implement a lean wrapper as described in the Gradle user guide.

[source, groovy]
  class HtmlSanityCheckPlugin implements Plugin<Project> {
      void apply(Project project) {
          project.task('htmlSanityCheck',
                  type: HtmlSanityCheckTask,
                  group: 'Check')
      }
  }




TODO:

* provide URL
* explain contributors to plugin implementation (plugin, task, setting, implementation)
* describe implementation (aka link to source)



[[html-encapsulation]]
=== Encapsulate HTML Parsing

We encapsulate the third-party HTML parser (http://jsoup.org) in simple wrapper classes with interfaces specific to our different checking algorithms. 
