[Settings]
# Added automatically by the Netlify CLI. It has no effect during normal
# Git-backed deploys.
ID = "htmlSanityCheck"

# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory to change to before starting a build.
  # This is where we will look for Gemfile etc
  base = "src/docs/website"

  # Directory (relative to root of your repo) that contains the deploy-ready
  # HTML files and assets generated by the build.
  publish = "src/docs/website/_site"

  # build command:
  # the order or commands is important:
  # 1.) jekyll needs to build FIRST, as it creates the _site directory
  # 2.) second, gradlew needs to build the adoc files.
  #     We use "generateDocs" here to avoid Excel-related warnings
  # 2b.) gradlew shall/can run the HtmlSanityChecker or other tests
  # 3.) the gradle-generated files are copied over to the _site directory

  command="jekyll build && cd ../../.. && ./gradlew generateDocs  && cp -r ./build/docs/html5/ src/docs/website/_site/documentation "
